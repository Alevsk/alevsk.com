---
title: Breve teoria sobre el malware
author: Alevsk
type: post
date: 2011-04-24T00:41:24+00:00
url: /2011/04/windows-descargar-antivirus-malware/
categories:
  - Ethical Hacking
  - Linux
  - Programming
tags:
  - backtrack
  - Linux Debugging
  - debian
  - distros
  - hackers
  - Linux
  - News
  - Programming
  - Solutions

---
[![](/images/tecleando.jpg)](http://www.alevsk.com/2011/04/windows-descargar-antivirus-malware/tecleando/)  
Este es uno de los post que escrib√≠ en mi antiguo **blog** [Alevsk-Zone][1] y por el cual tambi√©n fui cuestionado, primeramente creo que actualmente tengo un poco mas de madurez de la que tenia hace 2-3 a√±os :), tambi√©n creo que puedo dar respuestas bien fundamentadas sobre por que hago ciertas cosas. 

_Hace mucho me preguntaron, ¬øpor que practicas la seguridad inform√°tica sino estas llevando clases de eso?, mi respuesta es: no deseo esperar a que alguien me ense√±e algo nuevo si yo se que puedo aprenderlo por mi propia cuenta, eso se llama ser autodidacta y creo que le da a la persona un plus de calidad por que significa que quiere mejorar y superarse as√≠ misma cada d√≠a :), adem√°s de todo siempre hay que tener en cuenta la humildad._

Si bien es cierto que la inform√°tica tiene demasiadas ramas, algunas buenas y algunas otras que no son precisamente √©ticas como el **cracking** o el desarrollo de **malware** sigo pensando que el conocimiento y la **informaci√≥n** no es buena ni mala, todo depende de para que se use, por ejemplo un autom√≥vil puede ser usado para transportar gente o para atropellarla, ah√≠ es cuando interviene el factor humano y le da un giro positivo o negativo a dicha tecnolog√≠a. Adem√°s yo creo que todos aqui ya no somos ningunos ni√±os (eso quiero pensar xD) para saber lo que es bueno o lo que es malo üòâ

Con todo esto lo que trato de explicar es que si bien, el **malware** es algo malo por donde lo miren, no tiene nada de malo realizar investigaciones acerca de su desarrollo, adem√°s si me apetece publicar cosas que podr√≠an no ser √©ticas (ojo que como explicaba mas arriba, la informaci√≥n no es mala solo el uso que se le puede dar) lo voy a hacer ya que creo que es bueno tener conocimientos de todo tipo.

Ya con todo el serm√≥n anterior puedo publicar el contenido del post x'D.

**¬øQue es un malware indetectable?**  
El malware indetectable o FUD (full undetected) es el resultado de leves alteraciones en el cuerpo del virus, como quitar, agregar o modificar cadenas de bits, producto de patrones aleatorios que estos incorporan para  
evadir los antivirus, esto se realiza para que los antivirus no detecten las firmas generadas del malware, sin embargo no todos los antivirus se pueden evadir con la misma t√©cnica.

**¬øComo convertir un malware en indetectable?**  
Para alterar un virus de tal modo que sea indetectable al control del antivirus, se deben modificar unos cuantos bits en el archivo de tal modo que la firma que se genera del archivo difiera de las firmas que poseen los antivirus, pero la parte fundamental para que esta alteraci√≥n sea √≥ptima y permita que el archivo sea funcional e indetectable posterior al cambio es saber en que offset's se debe inyectar la modificaci√≥n, solo basta con cambiar algunos bits de posici√≥n si as√≠ se requiere y la tarea quedar√≠a cumplida. En otras palabras y siendo mas idealista se podr√≠a afirmar que la ley matem√°tica para la suma y multiplicaci√≥n la cual dice que:  
‚ÄúEl orden de los factores no altera el producto" no es aplicable para la suma, multiplicaci√≥n o cualquier operaci√≥n algor√≠tmica entre bits que generen un **hash** o firma como es el caso de la identificaci√≥n de virus, dado que con unos cuantos movimientos posicionales de bits el resultado no es el mismo, la firma de identificaci√≥n del virus es alterada.

Vale la pena mencionar que no en cualquier segmento del archivo se puede realizar la alteraci√≥n de los bits o bytes si se trabaja en hexa, dado que si se realizar√° el cambio en los offset's vitales del archivo, este quedar√≠a inservible y si por el contrario se realizara la alteraci√≥n en alg√∫n offset que no fuera parte de la firma o del patr√≥n de identificaci√≥n, el archivo simplemente quedar√≠a modificado pero aun seguir√≠a siendo detectable para los antivirus. Lo ideal es conseguir que el archivo sea sutil y eficazmente alterado sin afectar su estabilidad.

Estos patrones de bits, firmas o offsets que lee el antivirus se le denominan Patrones **Heur√≠sticos**:  
Los **Patrones Heur√≠sticos** son T√©cnicas que se emplean para reconocer c√≥digos maliciosos (**malware**) que no se encuentren en la base de datos del antivirus (ya sea porque son nuevos, o porque no son muy divulgados. Estas t√©cnicas usadas por el antivirus son:

  * Recreacion del c√≥digo compilado
  * Desensamblado
  * Firmas gen√©ricas
  * Desempaquetamiento

**Indetecci√≥n en scan-time y run-time**  
Un archivo puede pasar como **indetectable** al **antivirus** en dos fases, una al momento de residir en el disco y ser escaneado, y la otra al momento de ejecutarse y lanzar el **c√≥digo**.  
**SCANTIME:** Un archivo que no posea patrones heur√≠sticos visibles al Antivirus puede pasar como scantime.  
**RUNTIME:** Un archivo que adem√°s de no poseer patrones heur√≠sticos, proteja en memoria sus llamadas y procedimientos, los virtualize o los inyecte, podr√≠a pasar a ser indetectado en tiempo de ejecuci√≥n.

Quise publicar esto por que estoy llevando algunas clases este semestre en la universidad que me hacen mas f√°cil comprender toda esta teor√≠a de la que se habla acerca del **malware** :), como es que un proceso puede proteger sus llamadas y procedimientos al sistema, inyectar c√≥digo en otros procesos, desencriptar parte de su c√≥digo encriptado cuando esta cargado en memoria, virtualizacion etc.

Me atrevo a mirar el trabajo que realizan algunos desarrolladores de **malware** como algo respetable, desde el punto de vista de la programaci√≥n claro y tambi√©n creo que todo esto es mas una cuesti√≥n de ego personal (como decir, mira lo que puedo llegar a crear), mas que tener en mente da√±ar a los dem√°s **COMO PIENSAN ALGUNAS PERSONAS** :).

 [1]: http://alevsk-zone.blogspot.com